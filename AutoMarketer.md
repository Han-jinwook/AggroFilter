⚙️ 기획서: 어그로필터 오토마케터 (AutoMarketer)Project: AggroFilter Independent Local System (Aggro Marketing Bot)Target: Back-end / Node.js DeveloperVersion: Final Merged 3.1 (Legacy Code Removed & Independent Setup)1. 개요 및 시스템 분리 배경 (Overview & Why Separate?)이 시스템은 어그로필터 메인 서비스와 철저히 분리되어, 대표님의 로컬 PC(또는 소형 서버)에서 단독으로 돌아가는 **'자동화 봇(Bot)'**입니다.1.1 시스템 분리 배경 (Why Separate?)메인 웹 앱에 자동화 기능을 넣지 않고 굳이 독립시키는 이유는 다음과 같습니다.메인 앱 보호: 크롤링, AI 대량 분석 등 무거운 백그라운드 작업이 유저가 접속하는 메인 웹 서버(Next.js)의 자원을 갉아먹는 것을 방지합니다.IP 차단 및 캡차 회피: 클라우드 서버에서 유튜브 등을 대량 수집하려 하면 즉각 IP 차단 및 캡차(CAPTCHA)에 막히기 때문에, 로컬 환경 구동이 필수적입니다.유지보수성 확보: 유저 서비스 로직과 마케팅/어드민 로직이 섞이면 치명적인 버그 발생 확률이 기하급수적으로 증가합니다. (현재 분리 완료됨)비용 효율성: 메인 웹앱은 Vercel/Netlify에 가볍게 배포해 두고, 봇(Bot)은 사장님의 로컬 PC나 값싼 소형 서버(Cafe24 등)에서 Cron으로만 돌리는 것이 압도적으로 경제적입니다.1.2 아키텍처 구조 (Architecture)[본진] Main Web App:역할: 유저 서비스 제공, 랭킹 표시, 검색 및 개별 영상 분석.상태: 기존 마케팅/자동화 코드는 모두 제거 완료되어, 현재 유저 서비스 로직만으로 매우 가볍고 안정적으로 유지 중입니다.[오토마케터] Aggro Marketing Bot:위치: 메인 프로젝트 바깥에 완전히 새로운 독립 폴더(aggro-marketing-bot)로 생성. (Node.js 기반 스크립트)역할: 매일 지정된 시간에 핫이슈를 수집하고, AI로 분석하여 메인 DB에 데이터를 채워 넣거나 SNS 업로드를 수행.DB 연동: 메인 웹앱과 동일한 데이터베이스(DB) 주소를 바라보도록 설정. 단, 봇은 데이터를 '생성(Insert) 및 업데이트'하는 역할에 집중합니다.2. [섹션 1] 핵심: 트렌드 영상 자동 분석 (Auto-Analysis) 🚀가장 중요한 1번 기능입니다. 매일 알아서 최신 이슈 영상을 분석해 메인 앱의 볼거리를 풍성하게 채우는 '자동화 일꾼' 역할입니다.2.1 스케줄링 및 작동 조건실행 주기: 매일 2회 가동 (오전 6시, 오후 6시)수집 대상: 최근 12시간 내 업로드된 각 카테고리별(경제, 정치, 건강 등) 상위 5개 영상.중복 방지: 최근 1주일(7일) 이내에 이미 분석된 채널/영상은 스킵.2.2 분석 퀄리티 최우선 (Quality First)비용 절감보다 '분석의 정확도'가 무조건 우선입니다.단, 자막(Transcript)이 1시간 분량처럼 비정상적으로 긴 영상에 한해서만, 프롬프트 한도 초과(Token Limit)를 막기 위해 핵심 내용 위주로 다이어트(요약/샘플링)하는 로직을 적용합니다.2.3 워크플로우수집: 오토마케터가 유튜브 랭킹을 순회하며 타겟 영상 수집.분석: 최고 퀄리티의 프롬프트로 Gemini 등 LLM을 호출하여 '신뢰도/어그로성' 판독.적재: 분석 결과물을 **실제 서비스 DB(t_videos)**에 바로 Insert. (저장 즉시 어그로필터 웹사이트 메인 화면에 해당 영상 결과가 노출됨).3. [섹션 2] SNS 오피셜 채널: 쇼츠/릴스 100% 무인 자동화 🎬어그로필터 공식 인스타그램/유튜브 채널을 개설하고, 오토마케터가 매일 분석한 데이터를 바탕으로 쇼츠(Shorts)와 릴스(Reels) 영상을 자동 생성 및 업로드합니다.3.1 1단계: 대본 및 에셋 생성트리거: 매일 저녁 6시 분석 완료 직후.로직: 1. 오늘 분석된 영상 중 '가장 어그로가 심한 빌런 TOP 3' 추출.2. LLM이 1분 분량의 도발적인 숏폼 대본 자동 작성 (예: "오늘 딱 걸린 낚시 유튜버 TOP 3").3. 썸네일 블러 이미지, 신뢰도 그래프, [F급 호구] 도장 이미지 등 시각 에셋 생성.3.2 2단계: 영상 자동 조립 (Video Rendering)TTS (음성 합성): 생성된 대본을 AI 음성(Edge TTS, OpenAI 등)을 활용해 오디오 파일로 변환.영상 합성 (Node.js FFmpeg): 로컬 스크립트가 템플릿 배경 영상 위에 '시각 에셋(이미지)' + 'AI 음성' + '자동 자막'을 결합하여 최종 .mp4 파일로 렌더링.3.3 3단계: 자동 업로드 퍼블리싱 (Auto-Publishing)대상 채널: 어그로필터 공식 유튜브(Shorts), 인스타그램(Reels), 틱톡.업로드 방식 (2-Track):API 방식: YouTube Data API v3, Instagram Graph API를 통한 정식 업로드.우회 방식 (Playwright): API 한도 초과나 권한 문제가 발생할 경우, 오토마케터가 로컬 크롬 브라우저 세션을 열어 사람이 클릭하듯 직접 업로드 수행.4. [섹션 3] B2B/B2C 댓글 영업 자동화 (Comment Strategy) 🗣️가장 담백하고 직접적인 **'유튜브 댓글'**을 활용하여 채널 운영자와 구독자 모두를 타겟팅합니다.4.1 드라이한 댓글 템플릿 (Dry & Factual)감정적인 비난을 배제하고, 철저히 시스템 분석 결과만 포맷화하여 제공합니다.댓글 템플릿 예시:[어그로필터 AI 분석 리포트]본 영상에 대한 팩트체크 분석이 완료되었습니다.신뢰도 점수: 45점 (위험)어그로 점수: 88점 (제목/내용 불일치)상세 분석 결과 및 전체 순위 보기: https://www.google.com/search?q=aggrofilter.com/video/1234.2 실행 프로세스 (Human-in-the-loop)생성: 오토마케터가 영상 분석을 마칠 때마다 위 포맷의 댓글 텍스트를 자동 생성해 리스트업.복붙: 운영 스태프가 리스트를 보고 복사(Copy)하여 해당 유튜브 영상 댓글창에 붙여넣기(Paste) 함.5. 기술 구현 지침 (Tech Specs) - ⚠️ 개발자 윈드서퍼 필독5.1 프로젝트 독립 폴더 구축새 폴더 생성: 메인 프로젝트 바깥(Root 상위 또는 별도 위치)에 aggro-marketing-bot 이라는 완전히 새로운 폴더를 생성하고, Node.js 환경으로 초기화(npm init) 하십시오. (기존 메인 앱 코드는 간섭하지 않음)5.2 수집 및 업로드 기술 (Playwright Session Persistence)오토마케터(Node.js)가 외부 사이트를 긁거나 쇼츠/릴스를 우회 업로드할 때 봇으로 차단당하지 않도록, **Playwright for Node.js**를 활용하십시오.스크립 실행 시 운영 스태프의 기존 크롬 브라우저 사용자 데이터(User Data Dir)를 그대로 로드하여 캡차와 2차 인증을 우회하도록 구성하십시오.